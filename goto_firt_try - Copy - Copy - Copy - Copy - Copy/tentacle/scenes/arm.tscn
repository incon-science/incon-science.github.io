[gd_scene load_steps=10 format=3 uid="uid://j3gcywxflkf1"]

[ext_resource type="Script" uid="uid://cnvqr2tm46rpq" path="res://tentacle/scripts/Arm.gd" id="1_k0nq1"]
[ext_resource type="Shader" uid="uid://bm6i26uu8obx0" path="res://tentacle/shaders/canvas_group_shadow.gdshader" id="2_mg0tv"]
[ext_resource type="Shader" uid="uid://dvcmoaj2bkbf3" path="res://tentacle/shaders/outline.gdshader" id="3_o1qxq"]
[ext_resource type="Shader" uid="uid://uydbla0eud6j" path="res://tentacle/shaders/canvas_group_two_tone.gdshader" id="4_gowua"]
[ext_resource type="PackedScene" uid="uid://cgg7gb01rjef3" path="res://tentacle/scenes/eye.tscn" id="5_eye"]

[sub_resource type="Curve" id="Curve_pi6jo"]
_data = [Vector2(0, 0.987436), 0.0, 0.0, 0, 0, Vector2(1, 0.0534794), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="ShaderMaterial" id="ShaderMaterial_pi6jo"]
shader = ExtResource("3_o1qxq")
shader_parameter/outline_color = Color(0, 0, 0, 1)
shader_parameter/outline_size = 1.0
shader_parameter/alpha_threshold = 0.8
shader_parameter/outline_samples = 4
shader_parameter/shade_color = Color(1, 1, 1, 0)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_5pek0"]
shader = ExtResource("2_mg0tv")
shader_parameter/shadow_color = Color(0.078, 0.137, 0.227, 0.25)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_arm"]
shader = ExtResource("4_gowua")
shader_parameter/light_color = Color(1, 1, 1, 1)
shader_parameter/dark_color = Color(0.83, 0.83, 0.83, 1)
shader_parameter/shade_ratio = 0.3

[node name="Arm" type="Node2D" node_paths=PackedStringArray("base_node", "shadow_node", "eye_container")]
script = ExtResource("1_k0nq1")
base_node = NodePath("OutlinedSubViewportContainer/SubViewport/TwoToneCanvasGroup/BaseLine")
shadow_node = NodePath("OutlinedSubViewportContainer/SubViewport/ShadowCanvasGroup/ShadowLine")
width_curve = SubResource("Curve_pi6jo")
eye_container = NodePath("OutlinedSubViewportContainer/SubViewport/EyeContainer")
eye_scene = ExtResource("5_eye")

[node name="OutlinedSubViewportContainer" type="SubViewportContainer" parent="."]
material = SubResource("ShaderMaterial_pi6jo")
offset_right = 512.0
offset_bottom = 512.0

[node name="SubViewport" type="SubViewport" parent="OutlinedSubViewportContainer"]
transparent_bg = true
handle_input_locally = false
render_target_update_mode = 4

[node name="ShadowCanvasGroup" type="CanvasGroup" parent="OutlinedSubViewportContainer/SubViewport"]
material = SubResource("ShaderMaterial_5pek0")

[node name="ShadowLine" type="Line2D" parent="OutlinedSubViewportContainer/SubViewport/ShadowCanvasGroup"]
position = Vector2(256, 256)
points = PackedVector2Array(0, 5, -4.196808, 1.9506226, -8.771561, -0.48924255, -13.085403, -3.2360535, -17.01744, -6.3574066, -20.552002, -9.81192, -23.65712, -13.59642, -26.456207, -17.602158, -29.423584, -21.520554, -32.770798, -25.159409, -36.500916, -28.435074, -40.56819, -31.329071, -44.969803, -33.80223, -49.595505, -35.97432, -54.135452, -38.31729, -58.39685, -41.04074, -62.295486, -44.147247, -65.81264, -47.590927, -68.90921, -51.3692, -71.70558, -55.372925, -74.67618, -59.293884, -78.03348, -62.939926, -81.778946, -66.22298, -85.85536, -69.11409, -90.234085, -71.5681)
width = 24.0
width_curve = SubResource("Curve_pi6jo")
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="TwoToneCanvasGroup" type="CanvasGroup" parent="OutlinedSubViewportContainer/SubViewport"]
material = SubResource("ShaderMaterial_arm")

[node name="BaseLine" type="Line2D" parent="OutlinedSubViewportContainer/SubViewport/TwoToneCanvasGroup"]
position = Vector2(256, 256)
points = PackedVector2Array(0, 0, -4.196808, -3.6743622, -8.771561, -6.7392426, -13.085403, -10.111053, -17.01744, -13.857407, -20.552002, -17.93692, -23.65712, -22.34642, -26.456207, -26.977158, -29.423584, -31.520554, -32.770798, -35.78441, -36.500916, -39.685074, -40.56819, -43.20407, -44.969803, -46.30223, -49.595505, -49.09932, -54.135452, -52.06729, -58.39685, -55.41574, -62.295486, -59.147247, -65.81264, -63.215927, -68.90921, -67.6192, -71.70558, -72.247925, -74.67618, -76.793884, -78.03348, -81.064926, -81.778946, -84.97298, -85.85536, -88.48909, -90.234085, -91.5681)
width = 24.0
width_curve = SubResource("Curve_pi6jo")
texture_mode = 1
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="EyeContainer" type="Node2D" parent="OutlinedSubViewportContainer/SubViewport"]
position = Vector2(256, 256)
